@page
@model IS7024WebApplication.Pages.SeeMovieDetailsModel
@{
    ViewData["Title"] = "Movie Details";
    var movie = TempData.Get<Movie>("Movie");
    var streamingavailability = TempData.Get<StreamingAvailability>("StreamingAvailability");
}
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Movie Details</title>
</head>

<body id="movieResultBody">
    <div class="container-fluid movieResult">
        <div class="row">
            <div class="col-4">
                <img src="@movie.Poster" alt="Movie Poster">
            </div>
            <div class="col-8">
                <h4>@movie.Title (@movie.Year)</h4>
                <h6>IMDB Rating</h6>
                <p>@movie.ImdbRating</p>
                <h6>Plot</h6>
                <p>@movie.Plot</p>
                <h6>Director</h6>
                <p>@movie.Director</p>
                <h6>Cast Members</h6>
                <p>@movie.Actors</p>
                <h6>Writer</h6>
                <p>@movie.Writer</p>
                <h6>Genre</h6>
                <p>@movie.Genre</p>
                <h6>Runtime</h6>
                <p>@movie.Runtime</p>
                <h6>Awards</h6>
                <p>@movie.Awards</p>
                <h6>Box Office</h6>
                <p>@movie.BoxOffice</p>
                <h6>Netflix Streaming Link</h6>
                    @if (@streamingavailability.Results.FirstOrDefault().ImdbId == movie.ImdbId)
                    {
                        <p><a href="@streamingavailability.Results.FirstOrDefault().StreamingInfo.Netflix.Us.Link" target="_blank"> WATCH NOW on Netflix! </a></p>
                    }
                    else if (@streamingavailability.Results.FirstOrDefault().ImdbId != movie.ImdbId)
                    {
                        <p>Not Available on Netflix.</p>
                    }
                    else
                    {
                        <p>Not available on Netflix.</p>
                    }
                </p>
                <h6>IMDBid</h6>
                <p>@streamingavailability.Results.FirstOrDefault().ImdbId</p>
            </div>
        </div>
    </div>


    @*<table class="table">
        <thead>
            <tr>
                <th scope="col">Title</th>
                <th scope="col">Year</th>
                <th scope="col">Plot</th>
                <th scope="col">Director</th>
                <th scope="col">Cast Members</th>
                <th scope="col">Writer</th>
                <th scope="col">Genre</th>
                <th scope="col">Runtime</th>
                <th scope="col">IMDB Rating</th>
                <th scope="col">Awards</th>
                <th scope="col">Box Office</th>
            </tr>
        </thead>

        <tbody>
            <tr>
                <td>@movie.Title</td>
                <td>@movie.Year</td>
                <td>@movie.Plot</td>
                <td>@movie.Director</td>
                <td>@movie.Actors</td>
                <td>@movie.Writer</td>
                <td>@movie.Genre</td>
                <td>@movie.Runtime</td>
                <td>@movie.ImdbRating</td>
                <td>@movie.Awards</td>
                <td>@movie.BoxOffice</td>
            </tr>
        </tbody>

    </table>*@

</body>
</html>